{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./Resources/preferences.js","webpack:///./Resources/shared.js","webpack:///./node_modules/sketch-module-web-view/client.js","webpack:///./node_modules/sketch-module-web-view/lib/constants.js"],"names":["btn","document","querySelector","inputField","replace","contextTabs","querySelectorAll","contextList","currentContext","commandsUl","optionsUl","inputFieldValue","value","commands","cyclingThroughOptions","DEBUG","setInputValue","focus","keys","shift","tab","addEventListener","e","keyCode","pluginCall","selectOption","getCommandsObj","preventDefault","switchContextAction","navigateThroughList","parseInput","optionsUlNodes","childNodes","i","length","className","indexOf","el","dataset","notation","defaultOperator","console","log","innerHTML","commandType","type","commandTypeName","commandList","filter","name","li","createElement","classList","add","operator","amount","append","style","display","filterActionlist","listCommands","key","commandNotation","commandTags","tags","commandDefaultOperator","target","span","prepend","optionsItems","optionsArray","Array","from","toLowerCase","filteredItems","remove","result","sort","a","b","index","mod","forEach","toggle","selectedAction","listItems","Number","isInteger","undefined","scrollIntoViewIfNeeded","setActiveContextOnInit","waitTillActiveClassIsApplied","window","setInterval","elements","isActive","contains","clearInterval","listSelectedLayers","selectedLayerList","waitTillSketchInputIsReceived","artboardLayerNameArray","split","selectedLayerNameArray","n","m","remain","Math","floor","commandRegex","operatorRegex","colorRegex","escapedValue","commandArray","userInput","getElementById","obj","toString","num","command","match","commandWithoutColor","j","push","commandMinOperator","commandTypeArray","expectedDataType","searchPropInArray","numbers","isNaN","nameKey","prop","myArray"],"mappings":"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","file":"preferences.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./Resources/preferences.js\");\n","import pluginCall from 'sketch-module-web-view/client'\nimport { getCommandsObj, obj, commandList } from './shared'\n\n\nvar btn = document.querySelector('#btn');\nvar inputField = document.querySelector('.c-commander');\nvar replace = document.querySelector('#replace');\n\nvar contextTabs = document.querySelectorAll(\".c-context-tab__item\");\nvar contextList = document.querySelectorAll(\".c-context-list\");\nvar currentContext = 0;\nvar commandsUl = document.querySelector(\".c-commands-list\");\nvar optionsUl = document.querySelector(\".c-options-list\");\n\nvar inputFieldValue = document.querySelector('.c-commander').value;\nvar commands;\nvar cyclingThroughOptions = false;\n\nvar DEBUG = true;\n\nfunction setInputValue(value) {\n    inputField.value = value;\n}\ninputField.focus();\n\n// Key event listeners\nvar keys = {\n    shift: false,\n    tab: false\n};\n\ninputField.addEventListener('keydown', function(e){\n    // close on keydown enter or escape key\n    if (e.keyCode === 27) {\n        pluginCall('closeModal');\n    }\n    if (e.keyCode === 13) {\n        if (cyclingThroughOptions) {\n            selectOption();\n        }\n        else {\n            pluginCall('returnUserInput', inputField.value);\n            pluginCall('nativeLog', getCommandsObj());\n        }\n    }\n    if (e.keyCode == 9) {\n        e.preventDefault();\n        if(!cyclingThroughOptions) {\n            keys[\"tab\"] = true;\n            if(!keys[\"shift\"]) {        \n                switchContextAction('next');\n            }\n        } else {\n            selectOption();\n        }\n    }\n    if (e.keyCode == 40) { //down arrow\n        e.preventDefault();\n        navigateThroughList(+1);\n    }\n    if (e.keyCode == 38) { //up arrow\n        e.preventDefault();\n        navigateThroughList(-1);\n    }\n    if (e.keyCode == 16) { //shift\n        keys[\"shift\"] = true;\n    }\n    if (keys[\"shift\"] && keys[\"tab\"]) {\n        e.preventDefault();\n        switchContextAction('prev');\n    }\n},false);\n\ninputField.addEventListener('keyup', function(e){\n    if ( e.keyCode != 40 && e.keyCode != 38 ) { //don't parse input on pressing ↑ or ↓ arrow\n        parseInput();\n    }\n    \n    // reset status of the keypress\n    if (e.keyCode == 9) {\n        keys[\"tab\"] = false;\n    }\n    if (e.keyCode == 16) { //shift\n        keys[\"shift\"] = false;\n    }\n});\n\n// function to replace current input value with the notation of selected option\nfunction selectOption() {\n    var optionsUlNodes = optionsUl.childNodes;\n    for (var i = 0; i < optionsUlNodes.length; i++) {\n        if ( (\" \" + optionsUlNodes[i].className + \" \").replace(/[\\n\\t]/g, \" \").indexOf(\" is-active \") > -1 ) {\n            var el = optionsUlNodes[i];\n            setInputValue(el.dataset.notation + el.dataset.defaultOperator);\n        }\n    }\n};\n\n\nfunction parseInput() {\n    if (DEBUG) console.log(getCommandsObj());\n    \n    inputFieldValue = document.querySelector('.c-commander').value;\n    commands = getCommandsObj();\n    commandsUl.innerHTML = ''; // remove existing elements\n    \n    for(var i = 0; i < commands.length; i++) {\n        var commandType = commands[i].type;\n        var commandTypeName = commandList.filter(function ( commandTypeName ) {\n            return commandTypeName.notation === commandType;\n        })[0];\n        commandTypeName = commandTypeName.name;\n        \n        // create the list\n        var li = document.createElement('li');\n        li.classList.add('c-commands-list__item');\n        li.innerHTML = commandTypeName + \" \" + commands[i].operator + \" \" + commands[i].amount;\n        commandsUl.append(li);\n    }\n    // one or more valid commands have been entered\n    if( getCommandsObj().length > 0 ) { \n        optionsUl.style.display = \"none\";\n        navigateThroughList('reset');\n    } else { // no valid commands entered (yet)\n        optionsUl.style.display = \"block\";\n        filterActionlist();\n    }\n    \n    // inputfield is empty\n    if( inputFieldValue == \"\") {\n        navigateThroughList('reset');\n    }\n}\n\n\n\nfunction listCommands() {\n    for (var key in commandList) {\n        var commandTypeName = commandList[key].name;\n        var commandNotation = commandList[key].notation;\n        var commandTags = commandList[key].tags;\n        var commandDefaultOperator = commandList[key].defaultOperator;\n        var li = document.createElement('li');\n        \n        li.addEventListener(\"click\", function(e) {\n            setInputValue(e.target.dataset.notation);\n            inputField.focus();\n            parseInput();\n        });\n        li.classList.add('c-options-list__item');\n        li.dataset.notation = commandNotation;\n        li.dataset.name = commandTypeName;\n        li.dataset.tags = commandTags;\n        li.dataset.defaultOperator = commandDefaultOperator;\n        li.innerHTML = commandTypeName;\n        optionsUl.append(li);\n        \n        var span = document.createElement('span');\n        span.classList.add('c-options-list__notation');\n        span.innerHTML = commandNotation;\n        li.prepend(span);\n    }\n};\nlistCommands();\n\n// for filtering the action list as long as there are no matching commands found\nfunction filterActionlist() {\n    var optionsItems = document.querySelectorAll(\".c-options-list__item\");\n    var optionsArray = Array.from(optionsItems);\n    optionsArray.filter( function( el ) {\n        var filter = inputFieldValue.toLowerCase();\n        var filteredItems = el.dataset.notation + \" \" + el.dataset.name + \" \" + el.dataset.tags;\n        // console.log(el.dataset.name + \":   \" + filteredItems.toLowerCase().indexOf(filter));\n        if (filteredItems.toLowerCase().indexOf(filter) == -1 ) {\n            el.classList.add(\"is-hidden\");\n        } else {\n            el.classList.remove(\"is-hidden\");\n        }\n        \n        var result = optionsArray.sort(function(a,b){\n            if ( inputFieldValue === a.dataset.notation ) {\n                return a.dataset.notation - b.dataset.notation;\n            }\n            return a.dataset.notation - b.dataset.notation;\n        });\n        console.log(result[0]);\n        navigateThroughList('selectFirst');\n    });\n}\n\n// for switching task contexts\nfunction switchContextAction(value) {\n    if ( value == 'next' )\n        currentContext = currentContext + 1;\n    else if ( value == 'prev' )\n        currentContext = currentContext - 1;\n    else\n        currentContext = value;\n    \n    var length = contextTabs.length;\n    var index = mod(currentContext, length);\n    \n    contextTabs.forEach( function(el) {\n        el.classList.remove('is-active');\n    })\n    contextList.forEach( function(el) {\n        el.classList.remove('is-active');\n    })\n    // triggers visibility of both active tab as the list below\n    contextTabs[index].classList.toggle('is-active');\n    contextList[index].classList.toggle('is-active');\n    \n    pluginCall('saveContext', index);\n}\n\n// for navigating through the actionlist\nvar selectedAction = -1;\n\nfunction navigateThroughList(value) {\n    var listItems = document.querySelectorAll(\".c-context-list.is-active .c-options-list__item:not(.is-hidden)\");\n    \n    if ( value == 'reset' ) {\n        selectedAction = -1;\n    }\n    else if ( value == 'selectFirst' ) { // used when filtering items\n        selectedAction = 0;\n    }\n    else if ( !value ) { \n        selectedAction++;\n    }\n    else {\n        if ( Number.isInteger(value) )\n            selectedAction = selectedAction += value;\n    }\n\n    var length = listItems.length + 1; // so that it's possible to have nothing selected\n    var index = mod(selectedAction, length);\n    cyclingThroughOptions = true;\n\n    listItems.forEach( function(el){\n        el.classList.remove('is-active');\n    })\n\n    if ( listItems[index] != undefined ) {\n        listItems[index].classList.toggle('is-active');\n        // this useful sucker surprisingly works in safari/webview, but lets keep it disabled when debugging in FF\n        if (DEBUG) listItems[index].scrollIntoViewIfNeeded(false);\n    }\n    else {\n        cyclingThroughOptions = false;\n    }\n}\n\n// sets the active context when opening the webview (only runs once)\nvar setActiveContextOnInit = (function() {\n    // wait until there's an active context__item which is set in index.html. This can probably done with promises, but this ugly hack works...\n    var waitTillActiveClassIsApplied = window.setInterval(function() {    \n        var elements = document.querySelectorAll('.c-context-tab__item');\n        var isActive = document.querySelector('.c-context-tab__item.is-active');\n        \n        for(var i = 0; i < elements.length; i++) {\n            if (elements[i].classList.contains(\"is-active\")) {\n                switchContextAction(i);\n                if (DEBUG) console.log(\"currentContext = \" + currentContext);\n                clearInterval(waitTillActiveClassIsApplied);\n            }\n        }\n    }, 1);\n    setActiveContextOnInit = function(){}; // overwrite self-invoked function so that it can only run once\n})();\n\n// lists the selected layers\nvar listSelectedLayers = (function() {    \n    var selectedLayerList = document.querySelector('.c-selection-list');\n    // wait until there's input received from Sketch in index.html. This can probably done with promises, but this ugly hack works...\n    var waitTillSketchInputIsReceived = window.setInterval(function() {    \n        // received array from Sketch is actually a string, lets convert it into a real array again\n        if (artboardLayerNameArray) {\n\t\t// if (artboardLayerNameArray && selectedLayerNameArray) {\n            artboardLayerNameArray = artboardLayerNameArray.split(',');\n\t\t\tselectedLayerNameArray = selectedLayerNameArray.split(',');\n            \n            for(var i = 0; i < artboardLayerNameArray.length; i++) {\n                // create the list\n                var li = document.createElement('li');\n                li.classList.add('c-options-list__item');\n                li.innerHTML = artboardLayerNameArray[i];\n                selectedLayerList.append(li);\n            }\n            clearInterval(waitTillSketchInputIsReceived);\n        }\n    }, 10);\n    listSelectedLayers = function(){}; // overwrite self-invoked function so that it can only run once\n})();\n\n\n// http://stackoverflow.com/questions/4467539/javascript-modulo-not-behaving/13163436#13163436\nvar mod = function (n, m) {\n    var remain = n % m;\n    return Math.floor(remain >= 0 ? remain : remain + m);\n};\n","export { getCommandsObj };\n\nvar DEBUG = true,\ncommandRegex = /(bdc)|(bdr)|(bdw)|(bd)|(fs)|(f)|(lh)|(ttu)|(ttl)|(o)|[lrtbwhaxynv]/g,\noperatorRegex = /[\\/+\\-*%\\=]/g;\n// export var commandList = {\n//     \"bdc\" : { \"name\" : \"Border-color\" },\n//     \"bdr\" : { \"name\" : \"Border-radius\" },\n//     \"bdw\" : { \"name\" : \"Border-width\" },\n//     \"bd\" : { \"name\" : \"Border\" },\n//     \"fs\" : { \"name\" : \"Font-size\" },\n//     \"f\" : { \"name\" : \"Fill color\" },\n//     \"lh\" : { \"name\" : \"Line-height\" },\n//     \"ttu\" : { \"name\" : \"Text-transform: uppercase\" },\n//     \"ttl\" : { \"name\" : \"Text-transform: lowercase\" },\n//     \"o\" : { \"name\" : \"Opacity\" },\n//     \"l\" : { \"name\" : \"Left\" },\n//     \"r\" : { \"name\" : \"Right\" },\n//     \"t\" : { \"name\" : \"Top\" },\n//     \"b\" : { \"name\" : \"Bottom\" },\n//     \"w\" : { \"name\" : \"Width\" },\n//     \"h\" : { \"name\" : \"Height\" },\n//     \"a\" : { \"name\" : \"All directions\" },\n//     \"x\" : { \"name\" : \"Move X\" },\n//     \"y\" : { \"name\" : \"Move Y\" },\n//     \"n\" : { \"name\" : \"Rename layer\" },\n//     \"v\" : { \"name\" : \"Text value\" }\n// }\n\nexport var commandList = [\n    {\n        \"notation\" : \"bd\",\n        \"name\" : \"Border\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"+\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"bdc\",\n        \"name\" : \"Border-color\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"#\",\n        \"expectedDataType\" : \"color\"\n    },\n    {\n        \"notation\" : \"bdr\",\n        \"name\" : \"Border-radius\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"bdw\",\n        \"name\" : \"Border-width\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"f\",\n        \"name\" : \"Fill color\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"#\",\n        \"expectedDataType\" : \"color\"\n    },\n    {\n        \"notation\" : \"fs\",\n        \"name\" : \"Font-size\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"lh\",\n        \"name\" : \"Line-height\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"ttu\",\n        \"name\" : \"Text-transform: uppercase\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"ttl\",\n        \"name\" : \"Text-transform: lowercase\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"o\",\n        \"name\" : \"Opacity\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"l\",\n        \"name\" : \"Left\",\n        \"tags\" : \"resize\",\n        \"defaultOperator\" : \"+\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"r\",\n        \"name\" : \"Right\",\n        \"tags\" : \"resize\",\n        \"defaultOperator\" : \"+\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"t\",\n        \"name\" : \"Top\",\n        \"tags\" : \"resize\",\n        \"defaultOperator\" : \"+\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"b\",\n        \"name\" : \"Bottom\",\n        \"tags\" : \"resize\",\n        \"defaultOperator\" : \"+\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"w\",\n        \"name\" : \"Width\",\n        \"tags\" : \"resize\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"h\",\n        \"name\" : \"Height\",\n        \"tags\" : \"resize\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"a\",\n        \"name\" : \"Resize all directions\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"+\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"x\",\n        \"name\" : \"Move X\",\n        \"tags\" : \"position\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"y\",\n        \"name\" : \"Move Y\",\n        \"tags\" : \"position\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"integer\"\n    },\n    {\n        \"notation\" : \"n\",\n        \"name\" : \"Rename layer\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"string\"\n    },\n    {\n        \"notation\" : \"v\",\n        \"name\" : \"Text value\",\n        \"tags\" : \"\",\n        \"defaultOperator\" : \"=\",\n        \"expectedDataType\" : \"string\"\n    }\n]\n\nvar colorRegex = /#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/g;\nvar escapedValue,\ncommandArray = [];\n\nfunction getCommandsObj(userInput) {\n    var userInput = document.getElementById(\"c-commander\").value;\n    var obj = [];\n    \n    userInput = userInput.toString();\n    userInput = userInput.toLowerCase();\n    userInput = userInput.replace(/(px)/g, \"\");\n    userInput = userInput.replace(/ /g, \"\");\n    userInput = userInput.replace(/ /g, \",\");\n    \n    var num = 1;\n    // check if there are multiple commands\n    if (userInput.indexOf(\",\") > 0) {\n        num = userInput.split(\",\").length;\n        commandArray = userInput.split(\",\");\n    }\n    else {\n        commandArray[0] = userInput;\n    }\n    \n\t// commandArray = array with all the commands that were put in, for example [0]=lr+20,[1]=h/2)\n\t// command = one single command, for example b-30 or lr+20\n    for (var i=0; i < commandArray.length; i++) {\n        var command = commandArray[i];\n        \n        // first check if command contains a hex color value. This check is necessary so that characters in colors are not seen as commands (like 'f' in #ff0000)\n        if (command.match(colorRegex)) {\n            var commandWithoutColor = command.replace(colorRegex,''); //strip out the color values\n            \n            // check if input contains valid commands\n            if(commandWithoutColor.match(commandRegex)) {\n                // multiple commands are accepted (f.e. fbdc#ff0000) = fill & borderColor\n                for ( var j = 0; j < commandWithoutColor.match(commandRegex).length; j++ ) {\n                    commandType = commandWithoutColor.match(commandRegex)[j].toString();\n                    amount = command.match(colorRegex);\n                    \n                    obj.push({\n                        type : commandType,\n                        amount : amount[0],\n                        operator : \"=\"\n                    })\n                }\n            }\n        }\n        else {\n            var amount;\n            var operator;\n            \n            // check which operator is being used (f.e. +, -, *, etc. )\n            if (command.indexOf(\"*\") >= 0)\t\toperator = \"*\";\n            else if (command.indexOf(\"/\") >= 0)\toperator = \"/\";\n            else if (command.indexOf(\"%\") >= 0)\toperator = \"%\";\n            else if (command.indexOf(\"=\") >= 0)\toperator = \"=\";\n            else if (command.indexOf(\"-\") >= 0)\toperator = \"-\";\n            else if (command.indexOf(\"+\") >= 0) operator = \"+\";\n            else if (command.indexOf(\"#\") >= 0) operator = \"#\";\n            \n            // commandMinOperator = command.replace(operator, \"\");\n            // amount = commandMinOperator.replace(commandRegex, \"\");\n            const commandMinOperator = command.split(operator)[0];\n            amount = command.split(operator)[1];\n            const commandTypeArray = commandMinOperator.match(commandRegex);\n            \n\n            // loop through all the commands, like 'lr' in 'lr+20')\n            if( commandTypeArray ) {\n                for ( var j = 0; j < commandTypeArray.length; j++ ) {\n                    const commandType = commandTypeArray[j].toString();\n                    // get the expectedDataType to validate if the operation is allowed\n                    const expectedDataType = searchPropInArray(commandType,\"notation\", commandList).expectedDataType;\n            \n                    // if another notation is used like 'w20%' or w20\n                    if( amount == \"\" || amount == undefined ) {\n                        var numbers = command.match(/\\d+/g);\n                        if (numbers != null) {\n                            amount = numbers;\n                        }\n                    }\n                    \n                    // is amount a number?\n                    if ( expectedDataType == \"integer\" ) {\n                        if ( isNaN(amount) !== true ) {\n                            // if no operator is used like 'w20'\n                            if(!operator) {\n                                // when resize directions are used set + as default, else =\n                                if ( commandType == \"l\" || commandType == \"r\" || commandType == \"t\" || commandType == \"b\" || commandType == \"a\" || commandType == \"w\" || commandType == \"h\" )\n                                    operator = \"+\"\n                                else\n                                    operator = \"=\"\n                            }\n\n                            obj.push({\n                                type : commandType,\n                                amount : amount,\n                                operator : operator\n                            })\n                        }\n                    }\n                    else if ( expectedDataType == \"string\" || expectedDataType == \"color\" ) {\n                        if (operator) {\n                            obj.push({\n                                type : commandType,\n                                amount : amount,\n                                operator : operator\n                            })\n                        }\n                    }\n                    if (DEBUG) {\n                        // console.log(\"commandType: \" + commandType + \"    amount: \" + amount + \"    operator: \" + operator)\n                    }\n                }\n            }\n        }\n    }\n    return obj;\n}\n\n// function isNumericalAction( command ) {\n//     operator = command.match(operatorRegex)[0];\n//     if ( operator == '%' ) {\n//         amount = command.replace(operatorRegex, \"\");\n//         amount = command.replace(commandRegex, \"\");\n//         // is amount a number?\n//         if ( isNaN(amount) !== true ) {\n//             \n//         }\n//     }\n//     \n//     return true;\n// }\n\n// search through array object - https://stackoverflow.com/questions/12462318/find-a-value-in-an-array-of-objects-in-javascript\n// returns the object with the result\nfunction searchPropInArray(nameKey, prop, myArray){\n    for (var i=0; i < myArray.length; i++) {\n        if (myArray[i][prop]=== nameKey) {\n            return myArray[i];\n        }\n    }\n}\n","var CONSTANTS = require('./lib/constants')\n\nmodule.exports = function(actionName) {\n  if (!actionName) {\n    throw new Error('missing action name')\n  }\n  window[CONSTANTS.JS_BRIDGE].callNative(\n    JSON.stringify([].slice.call(arguments))\n  )\n}\n","module.exports = {\n  JS_BRIDGE: '__skpm_sketchBridge',\n}\n"],"sourceRoot":""}